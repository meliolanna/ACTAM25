<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4/4 Rhythm game</title>
    <link rel="stylesheet" href="style.css">
  </head>

  <body class="pagina-viola">
    
    <!-- Pannello modal = pannello sopra pre e post gioco -->
    <div id="gameModal" class="modal">
      <div class="modal-content">
        <!-- Pannello per cominciare -->
        <div id="startScreen" class="startScreen">
            <h2 class="modal-title">READY TO PLAY?</h2>
            <div class="start-panel">
              <button id="modalStartButton" class="start-btn start-btn--big">START</button>
              <p class="small-note">
                Press the HIT button or the spacebar on time to play the rhythm. <br>
                  Rules:<br>
                  - You have 3 lives ❤️❤️❤️<br>
                  - You lost one life at every wrong measure<br>
                  - No more live -> Game Over <br>
              </p>
            </div>
        </div>
        <!-- Pannello gameover e ricominciare -->
        <div id="gameOverScreen" class="hidden">
          <h2 class="modal-title game-over-title">GAME OVER!</h2>
            <p class="modal-description">Your final rhythm level was:</p>
            <p id="finalScore" class="final-score-text">Round 1 @ 60 BPM</p>

            <div id="namePanel" class="hidden" style="margin: 10px 0 18px;">
              <p style="margin-bottom: 8px;">Enter your name to save your score:</p>
              <input id="playerNameInput" type="text" maxlength="24" placeholder="Your name"
                style="padding:10px; border-radius:10px; border:1px solid #ccc; width: 80%; max-width: 260px;">
             <div style="margin-top: 10px;">
              <button id="saveScoreBtn" class="start-btn">SAVE SCORE</button>
            </div>
          <div id="nameResult" style="margin-top:10px; font-size:0.9rem;"></div>
        </div>

        
            <div class="modal-button-row">
              <button id="modalRestartButton" class="start-btn">PLAY AGAIN</button> 
              <a href="gameslist.html">
                <button class="start-btn start-btn--back">BACK TO MENU</button>
              </a>
            </div>
        </div>
      </div>
    </div>
    
    <div class="game-frame">
    <h1 id="mainTitle" class="game-title">Follow the beat</h1>
    <p id="subTitle" class="game-subtitle">Training to keep on time the beat, increasing the BPM.</p>
  
    <!-- LED -->
    <div class="top-row">
      <div class="beat-panel">
        <div class="led-row">
          <div class="led" data-index="0"></div>
          <div class="led" data-index="1"></div>
          <div class="led" data-index="2"></div>
          <div class="led" data-index="3"></div>
        </div>
        <!-- Riquadro grafico per il ritmo -->
        <div class="notation-panel">
          <div class="notation-label">Rhythmic pattern</div>
          <div class="notation-staff" id="notationStaff"></div>
        </div>
      </div>
    </div>
  
    <div class="layout-main">
      <!-- PLAYER PANEL -->
      <section class="player-panel">
        <div class="player-panel-title">Press the HIT button or the spacebar on time.</div>
  
        <div id="statusText" class="status-text">Press START to begin.</div>
  
        <div class="single-btn-wrapper">
          <button id="hitButton" class="hit-btn-big">HIT</button>
        </div>
  
        <div class="life-display">
          <span id="lifeContainer"></span>
        </div>
  
        <div class="info-row">
          <span>BPM: <span id="bpmDisplay">60</span></span>
          <span>Round: <span id="roundDisplay">1</span></span>
          <span>Score: <span id="scoreDisplay">0</span></span>
        </div>
      </section>
  
      <!-- START PANEL 
      <aside class="start-panel">
        <button id="startButton" class="start-btn">START</button>
        <p class="small-note">
          Rules:<br>
          - You have 3 lives ❤️❤️❤️<br>
          - You lost one life at every wrong measure<br>
          - No more live -> Game Over 
        </p>
      </aside>-->
    </div>
  </div>
    <script type="module" src="main.js"></script>
  </body>
  
</html>





